{% extends "base.html" %}
{% block title %}
<title>文章列表</title>
{% endblock %}

{% block content %}
    <ol class="breadcrumb">
      <li><a href="/">首页</a></li>
      <li class="active">{{ b.name }}</li>
    </ol>
    <a href="/article/create/{{ b.id }}"><button type="button" class="btn btn-primary">发表文章</button></a>
    <br /><br />
    <table class="table table-hover">
        <thead><!-- thead表头, tr是行, th是单元格-->
            <tr>
                <th>状态</th>
                <th>标题</th>
                <th>作者</th>
                <th>创建时间</th>
                <th>最后更新时间</th>
            </tr>
        </thead>
        <tbody><!-- tbody表体, tr是行, td是单元格-->
            {% for article in articles %}
                <tr>
                    <td>{{ article.status }}</td>
                    <td><a href="/article/detail/{{ article.id }}">{{ article.title }}</a></td>
                    <td>{{ article.author }}</td>
                    <td>{{ article.create_timestamp|date:"Y-m-d P" }}</td>
                    <td>{{ article.last_update_timestamp|date:"Y-m-d P" }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>

    <nav aria-label="Page navigation">
      <ul class="pagination pagination">
        {% if previous_link > 0 %}
            <li><a href="?page_no=1">首页</a></li>
            <li>
              <a href="?page_no={{ previous_link }}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>
        {% endif %}
        {% for page_no in page_links %}
            {% if current_no == page_no %}
                <li class="active"><a href="?page_no={{ page_no }}">{{ page_no }}<span class="sr-only">(current)</span></a></li>
            {% else %}
                <li><a href="?page_no={{ page_no }}">{{ page_no }}</a></li>
            {% endif %}
        {% endfor %}

        {% if next_link <= page_cnt %}
            <li>
              <a href="?page_no={{ next_link }}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
            <li><a href="?page_no={{ page_cnt }}">尾页</a></li>
        {% endif %}
      </ul>
    </nav>
{% endblock %}